#######################
# General preferences #
#######################

unbind C-b                             # unbind default leader-combo
set-option -g prefix C-a               # bind Ctrl-'a' to leader-combo
bind-key C-a send-prefix               # bind Ctrl-'a' to send leader-combo

set -g  default-terminal\
  'screen-256color'                    # set default $TERM
set-option -sa terminal-overrides '\
,screen-256color:RGB\
,xterm-256color:RGB\
,alacritty:RGB'                        # fixes color-offset issues with nvim inside of tmux
set -g  focus-events on                # track focus-gained / lost events
set -g  base-index 1                   # start windows at index 1
set -g  pane-base-index 1              # start panes at index  1
set -g  renumber-windows on            # renumber windows after closing
set -g  automatic-rename on            # auto-rename the window to current process
set -g  mouse on                       # enable mouse and no delay on esc
set -sg escape-time 0                  # set no delay on esc
set -g  display-time 1500              # increase message display time to 1500ms (default=750ms)

###############
# Keybindings #
###############

bind h   select-pane -L                # bind left-pane-select  to 'h'
bind l   select-pane -R                # bind right-pane-select to 'l'
bind k   select-pane -U                # bind up-pane-select    to 'k'
bind j   select-pane -D                # bind down-pane-select  to 'j'
bind ' ' resize-pane -Z                # toggle-zoom on current pane with space
bind x   kill-pane                     # kill pane with 'x' (prevents confirmation prompt)

bind a new-window  -c\
  '#{pane_current_path}'               # bind new-window  to 'a'
bind A   new-session                   # bind new-session to 'A'

bind - split-window -v -c\
  '#{pane_current_path}'               # bind v-split to '-'
unbind '"'                             # unbind default v-split key

bind | split-window -h -c\
  '#{pane_current_path}'               # bind h-split to '|'
unbind %                               # unbind default h-split key

bind u select-window -t :-             # bind 'u' to prev window
bind o select-window -t :+             # bind 'o' to next window

bind-key r source-file ~/.tmux.conf;\
  display-message 'Config reloaded'    # reload tmux config with 'r'

bind y copy-mode                       # enter vim copy-mode with 'y'

# send copied content to xclip if and only if on Linux
# (macOS uses pbcopy and requires no additional configuration)
if-shell '[[ $(uname -s) = Linux ]]' {
   bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xclip -in -sel clip"
} {
   bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"
}

#########################
# Visual customizations #
#########################

set -g message-style\
  'fg=#000000,bg=#ffffff'              # set style for messages
set -g message-command-style\
  'fg=#000000,bg=#ffffff'              # set style for tmux command-prompt
set -g mode-style\
  'fg=#000000,bg=#ffffff'              # set style for window/session viewer

set -g status-right                ''  # prefer nothing on right side of status bar
set -g status-left-length          30  # set left + right status-blocks to 30 characters
set -g status-right-length         30  # in width
set -g status-justify absolute-centre  # prefer centered windows
set -g status-style      'bg=default'  # make status bar background to transparent
set -g status-position         bottom  # show status bar at top of window
set -g status-interval              5  # set update-rate of status bar

set -g pane-active-border-style\
  'fg=#ffffff,bg=default'              # give all pane-border same styling
set -g pane-border-style\
  'fg=#ffffff,bg=default'              # give all pane-border same styling

set -g window-status-format '   #W   ' # define template for status bar window titles


# define template for left stauts bar section indicator (show only session name)
set -g status-left '#[bg=#bdbebe] #[default][#S]#[bg=#bdbebe] '

# set style for left stauts bar section indicator
set -g status-left-style 'bg=#ffffff,fg=#000000,bold'

# define template for currently selected window
set -g window-status-current-format '#[bg=#898989] #[bg=#bdbebe] #[default] #W #[bg=#bdbebe] #[bg=#898989] '

# set style for status bar window indicators
set -g window-status-style 'fg=#bdbebe,bg=default'

# set style for currently selected window
set -g window-status-current-style 'bg=#ffffff,fg=#000000,bold'

